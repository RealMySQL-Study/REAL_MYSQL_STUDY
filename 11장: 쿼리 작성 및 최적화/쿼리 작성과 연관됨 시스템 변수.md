 # 쿼리 작성과 연관된 시스템 변수

## SQL 모드
MYSQL 서버의 `sql_mode`라는 시스템 설정에는 구분자(,)를 이용하여 여러 개의 값이 동시에 설정될 수 있다.  
```
[주의]
sql_mode 시스템 변수는 SQL 문장 작성 규칙뿐만 아니라 내부적으로 자동 실행되는 데이터 타입 변환 및 기본값 제어 등과 같은 옵션이 있다.
따라서 MYSQL 테이블을 생성하고 데이터를 저장하기 시작했다면 sql_mode 시스템 변수의 내용을 바꾸지 않는 것이 좋다.
MYSQL 8.0 서버의 sql_mode의 기본값
* ONLY_FULL_GROUP_BY
* STRICT_TRANS_TABLES
* NO_ZERO_IN_DATE
* NO_ZERO_DATE
* ERROR_FOR_DIVISION_BY_ZERO
* NO_ENGINE_SUBSTITUTION
```

* STRICT_ALL_TABLES & STRICT_TRANS_TABLES: INSERT나 UPDATE문장으로 데이터를 변경하는 경우 칼럼의 타입과 저장하는 값의 타입이 다를 때 자동으로 타입 변경을 수행한다.  
MYSQL 서버를 서비스에 적용하기 전에 반드시 활성화할 것을 권장.

* ANSI_QUOTES: MYSQL은 문자열 값을 표현하기 위해 홑따옴표('')와 쌍따옴표("")를 둘다 사용할 수 있다.  
그러나 오라클 같은 경우 홑따옴표를 문자열 값을 표기하는데 사용하고 쌍따옴표는 칼럼명이나 테이블명과 같은 식별자를 구분하는 요도로만 사용한다.  
MYSQL에 익숙하지 않은 사용자의 경우 ORACLE과 같이 사용할 수 있다.

* ONLY_FULL_GROUP_BY: MYSQL에서는 GROUP BY에 포함되지 않은 칼럼이더라도 집합 함수의 사용 없이 SELECT절이나 HAVING절에 사용할 수 있다.  
이 옵션을 사용하면 조금 더엄격한 규칙을 적용한다.  
MYSQL 5.7까지는 기본적으로 비활성화 되어있었지만 8.0버전부턴 기본적으로 활성화 되어있다.  
5.7에서 8.0으로 업그레이드 하는 경우에 이 옵션을 비활성화해야 할 수도 있다.

* PIPES_AS_CONCAT: '||' 연산자는 OR과 같은 의미로 사용된다.  그러나 이 모드를 켜놓으면 CONCAT과 같이 문자열 연결 연산자로 사용가능하다.
* PAD_CHAR_TO_FULL_LENGTH: CHAR타입이라고 하더라도 VARCHAR와 같이 유효 문자열 뒤의 공백 문제는 제거되어 반환된다.  
그러나 이 모드를 키게되면 공백이 제거되지 않고 반환된다.  

* NO_BACKSLASH_ESCAPES: 역슬래시 문자를 이스케이프 문자로 사용할 수 있는데 이모드를 사용한다면 다른 문자와 동일하게 취급한다.

* NO_ZERO_IN_DATE & NO_ZERO_DATE: 이 두 옵션이 활성화되면 DATE또는 DATETIME타입의 칼럼에 '2020-00-00'과 괕은 잘못된 날짜를 저장하는 것이 불가능해진다.

* ANSI: 위에 있는 여러가지 옵션들을 조합해 MYSQL서버가 최대한 SQL표준에 맞게 동작하게 만들어준다.

* TRADITIONAL: STRICT_TRANS(ALL)_TABLES와 비슷하지만 더 엄격한 방법으로 SQL작동을 제어한다.  
이 모드가 활성화되면 기존에 경고로 처리되던 상황이 모두 에러로 바뀌고 SQL은 실패한다.

