# 저장공간
CHAR와 VARCHAR의 공통점은 문자열을 저장할 수 있는 데이터 타입이라는 점이고, 가장 큰 차이점은 고정 길이냐 가변길이냐이다.  

* 가변 길이는 최대로 저장할 수 있는 값의 길이는 제한돼 있지만, 그 이하 크기의 값이 저장되면 그만큼 저장 공간이 줄어든다.  
VARCHAR 타입은 저장된 값의 유효 크기가 얼마인지를 별도로 저장해 둬야 하므로 1~2 바이트의 저장공간이 추가로 필요하다.  
* 고정 길이는 실제 저장된 값의 유효 크기가 얼마인지 별도로 저장할 필요가 없으므로 추가로 공간이 필요하지 않다.

하나의 글자를 저장하기 위해 CHAR(1), VARCHAR(1) 타입을 사용할 때 실제 사용되는 저장 공간의 크기를 살펴보자.  
두 문자열 타입 모두 한 글자를 저장할 때 사용하는 문자 집합에 따라 실제 저장 공간은 1 ~ 4 바이트까지 사용한다.  
CHAR 타입에 저장될 때는 추가 공간이 더 필요하지 않지만, VARCHAR 타입에 저장할 때는 문자열의 길이를 관리하기 위한 1~2바이트의 공간을 추가로 더 사용한다.  

VARCHAR 타입의 길이가 255바이트 이하이면 1바이트만 사용하고, 256바이트 이상으로 설정되면 2바이트를 사용한다.  
VARCHAR 타입의 최대 길이는 2바이트로 표현할 수 있는 이상은 사용할 수 없기 때문에 최대 길이는 65,536바이트 이상으로 설정할 수 없다.  

```
주의!

mysql에서는 하나의 레코드에서 TEXT와 BLOB 타입을 제외한 칼럼의 전체 크기가 64KB를 초과할 수 없다.

다른 컬럼에서 40KB의 크기를 사용하고 있다면 VARCHAR타입은 24KB만 사용할 수 있다.
이 때 24KB를 초과하는 크기의 VARCHAR타입을 생성하려고하면, 에러가 발생하거나 자동으로 TEXT타입으로 대체된다.  
```

문자열 값의 길이가 항상 일정하면 CHAR를 사용하고, 가변적이라면 VARCHAR를 사용하는 것이 일반적이다.  
VARCHAR타입을 선택해도 디스크에서 1바이트만 더 사용할 뿐인데, CHAR와 VARCHAR를 결정할 때 길이가 정적이냐 가변적이냐만으로 결정하는것은 적절하지 않다.  

중요한 기준은 다음과 같다.  
* 저장되는 문자열의 길이가 대개 비슷한다?
* 칼럼의 값이 자주 변경되는가?
