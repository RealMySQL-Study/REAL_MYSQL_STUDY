# 고급 최적화
MYSQL 옵티마이저가 실행 계획을 수립할 때 통계 정보와 옵티마이저 옵션을 결합해서 최적의 실행 계획을 수립하게 된다.  
옵티마이저 옵션은 크게 조인 관련된 옵티마이저 옵션과 옵티마이저 스위치로 구분되며 고급 최적화 기능들을 활성화할지를 제어하는 용도로 사용된다.  

## 옵티마이저 스위치 옵션
옵티마이저 스위치 옵션은 `optimizer_switch` 시스템 변수를 이용해서 제어하는데, 여러 개의 옵션을 세트로 묶어서 설정하는 방식으로 사용한다.  
![image](https://github.com/RealMySQL-Study/REAL_MYSQL_STUDY/assets/67637716/858abe1a-2413-4295-bd8f-72c2ac9e860c)  
각각의 옵션은 `default`와 `on`, `off`중에서 하나를 설정할 수 있다.  
옵티마이저 스위치 옵션은 글로벌과 세션별 모두 설정할 수 있는 시스템 변수이므로 다음과 같이 설정 가능하다.  
```
// mysql 서버 전체적으로 설정
mysql> SET GLOBAL optimizer_switch='index_merge=on, index_merge_union=on  ...';

// 현재 커넥션의 옵티마이저 스위치만 설정
mysql> SET SESSION optimizer_switch='index_merge=on, index_merge_union=on  ...';

// 힌트를 사용하여 현재 쿼리에만 설정
mysql> SELECT /*+ SET_VAR(optimizer_switch='condition_fanout_filter=off') ... FROM ...;
```


